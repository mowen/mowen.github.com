




  <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Twitter Racing at Howduino Liverpool</title>
      <meta name="keywords" content=", arduino, event, liverpool">
      <meta name="description" content="My account of the Howduino Arduino hacking event in Liverpool in May 2009.">
      <meta name="viewport" content="width=device-width">

      <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

      <link rel="stylesheet" href="/assets/css/normalize.css">
      <link rel="stylesheet" href="/assets/css/main.css">
      <link rel="stylesheet" href="/assets/css/animate.css">
      <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Inconsolata">
      <script src="/js/vendor/modernizr-2.6.1.min.js"></script>
      <script type="text/javascript" src="//use.typekit.net/gdm4xcy.js"></script>
      <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
  </head>
  <body>
      <!--[if lt IE 7]>
          <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
      <![endif]-->

      
  
   <div id="container">
    <section id="sidebar">
      <header>
  <a href='/'>
    <img id='avatar' src='/assets/images/avatar_med.png' title='Martin Owen'>
  </a>
</header>
<nav class='main'>
  <ul>
    <li><a href='/about.html'>about</a></li>
    <li><a href='/archives.html'>archives</a></li>
    <li>
      <a href='/atom.xml'>
        subscribe
      </a>
    </li>
  </ul>
</nav>
<nav class='elsewhere'>
  <ul class='social-network-links'>
    <li>
      <a class='github' href='http://github.com/mowen'>
        github
      </a>
    </li>
    <li>
      <a class='lastfm' href='http://last.fm/user/martyziff'>
        last.fm
      </a>
    </li>
    <li>
      <a class='twitter' href='http://twitter.com/martinowen'>
        twitter
      </a>
    </li>
    <li>
      <a class='facebook' href='http://facebook.com/martowen'>
        facebook
      </a>
    </li>
    <li>
      <a class='delicious' href='http://delicious.com/mintyboy'>
        delicious
      </a>
    </li>
    <li>
      <a class='linkedin' href='http://uk.linkedin.com/in/martinowenuk'>
        linkedin
      </a>
    </li>
  </ul>
</nav>

    </section>
    <section id="main" role="main">
      
        <article>
  <header>
    <h1>Twitter Racing at Howduino Liverpool</h1>
    <h2>
      My account of the Howduino Arduino hacking event in Liverpool in May 2009.
    </h2>
    <div class='meta'>
      <ul class='tags'>
        <li>Jun 01, 2009</li>
        <li>
          &middot;
        </li>
        <li>
          <a href='/blog/2009/06/01/twitter-racing-at-howduino-liverpool.html#disqus_thread'></a>
        </li>
        <li>&middot;</li>
        <li>
          <a class='tag' href='/tags/arduino/'>arduino</a>
        </li>
        <li>
          <a class='tag' href='/tags/event/'>event</a>
        </li>
        <li>
          <a class='tag' href='/tags/liverpool/'>liverpool</a>
        </li>
      </ul>
    </div>
  </header>
  <div class='body'>
    <p><a href="http://www.flickr.com/photos/jeanbaptisteparis/119421176/" title="Arduino fixation by jeanbaptisteparis, on Flickr"><img src="/assets/images/119421176_e1c82c8298_m.jpg" alt="Arduino fixation" class="left"></a></p>
    <p>If you haven’t seen one yet, the <a href="http://www.arduino.cc/">Arduino microcontroller</a> is the cutest piece of hardware since <span class="caps"><span class="caps">WALL</span></span>-E, if you think circuits are cute that is. Like my first iPod, every time I see it I am surprised by how small it is. The hardware is pretty simple, just an ATmega168 microcontroller and some inputs/outputs, meaning that they’re pretty cheap too.</p>
    <p>I’d known about them for a while (and had attended Adrian McEwen’s talk at the Liverpool BarCamp back in December) but had put off buying one because I’ve always been under the impression that hardware is much harder to debug than software, and I pictured myself spending hours of my precious free time trying to detect an elusive problem. So it wasn’t until Adrian and Thom Shannon organised the inaugural <a href="http://www.howduino.com/">Howduino</a> event in Liverpool that I finally got an excuse to buy one.</p>
    <p>When I finally took the plunge, I bought an <a href="http://www.arduino.cc/en/Main/ArduinoEthernetShield">Ethernet shield</a> along with the Ardunino itself, partly because it looked like <a href="http://tinker.it/">tinker.it</a> would sell out before the event, but also because I thought that whatever project I did would <em>have</em> to involve the internet.</p>
    <h3>Preparing for the event – My first project</h3>
    <p>So upon receiving my Arduino I set about getting an <span class="caps"><span class="caps">LED</span></span> to blink (the “Hello World” of Arduino development). That was easy, so the next step meant an excuse to use the Ethernet shield – controlling an <span class="caps"><span class="caps">LED</span></span> via the web. This turned out to be suprisingly simple thanks to an open source library named <a href="http://code.google.com/p/webduino/">Webduino</a>.</p>
    <p>Webduino is a small <span class="caps"><span class="caps">HTTP</span></span> server for the Arduino, and handles <span class="caps"><span class="caps">GET</span></span> requests, including parsing query string parameters. That was all I needed to start receiving <span class="caps"><span class="caps">HTTP</span></span> requests on the Arduino. So with a simple web page which contained 4 checkboxes and a submit button, I was able to turn 4 LEDs on or off depending on the value of their checkboxes.</p>
    <p>This was very encouraging, as although lighting up LEDs isn’t very useful, the implications of being able to control something physical via a web page was quite exciting, especially considering that I’d only spent a few hours getting it to work. I was an Arduino fan already.</p>
    <h3>Twitter Racing</h3>
    <p><a href="http://www.flickr.com/photos/ts0/3575844410/" title="IMG_1324 by Thom Shannon, on Flickr"><img src="/assets/images/3575844410_0abc5de799_m.jpg" alt="IMG_1324" class="right"></a></p>
    <p>At the Howduino event, I decided that I would try to race remote controlled cars based on how well certain search terms were doing on Twitter. I would generate a two timelines, and trigger the forward motors of the cars according to their timelines.</p>
    <h4>Getting the timeline data</h4>
    <p>When I initially conceived of the idea I had been intending to use the ethernet shield to access the <a href="http://apiwiki.twitter.com/Twitter-API-Documentation">Twitter <span class="caps"><span class="caps">API</span></span></a> in real time, but it soon became obvious that the ethernet shield would be unnecessary. I could get all of the data I needed before the start of the race using <a href="http://github.com/mowen/howduino/blob/master/ruby/timeline_generator.rb">a Ruby script</a>, and then send it to the Arduino in a stream of serial bytes via the Arduino <span class="caps"><span class="caps">IDE</span></span>. Each car would have a character in the stream, and when that character appeared it would move a little (more on this later).</p>
    <p>A snippet of a timeline with a <code>0</code> representing one car and a <code>1</code> the other would look like this:</p>
    <pre>1&#x000A;9&#x000A;1 1&#x000A;0&#x000A;9&#x000A;9&#x000A;0 0 1&#x000A;9</pre>
    <p>The <code>9</code> is a null, meaning that neither car moves for that step.</p>
    <p>I wrote a simple program in <a href="http://processing.org/">Processing</a> for simulating the timelines to see which races would be most exciting in terms of a close race, so that I could choose which races to show to people.</p>
    <h4>Cheap Remote Control Cars</h4>
    <p>I bought two similar remote control cars that operated on different frequencies. My plan was that I could simplify the project by just connecting the remote controls to the Arduino rather than trying to control the motors of the cars themselves. I planned to connect the forward switch on the remote control and trigger it whenever the car appeared in the timeline.</p>
    <p>I had written the Ruby timeline processing code before the day of Howduino, so I was pretty confident that I would be able to have some exciting Twitter races on the day. Unfortunately, two problems meant that the races didn’t quite go to plan…</p>
    <h4>Getting ahead of myself</h4>
    <p>Before the event, I started to get clever, thinking that this was too simple and needed a bit more control. I’d bought an analogue slider, so I thought I would use it to control the speed of the race. My intentions were good – while testing with the Processing simulation I had found that some races were very fast and some were very slow, depending on the participants of the race.</p>
    <p>For example a race between the finalists on American Idol during the final itself would be very fast as hundreds of Tweets occur each second, but two more obscure topics would be much slower as their Tweets trickled in over months.</p>
    <p>I later found that adding the slider actually meant that I couldn’t limit the rate of the serial bytes to the Arduino, and it ended up being flooded. The end result of this was that the race would be over before it began, and the cars would just stutter a little and then stop. I didn’t actually realise this until after Howduino.</p>
    <h4>Survival of the fittest</h4>
    <p>Something else I discovered after the event when I started running a control race – both cars being sent the exact same timeline – was that one car (the blue) was much less powerful than the other. This was a big setback, because without adding a handicap in the code the race could never be fair.</p>
    <p>Maybe I should have bought more expensive cars!</p>
    <h3>The future of Twitter Racing</h3>
    <p>I learnt a lot from my couple of days of Twitter Racing, but haven’t played with it since. If I attend another Arduino hacking event I’m sure I’ll revisit it and make it much more of a success!</p>
    <p><a href="http://github.com/mowen/howduino">The Twitter Racing code</a> is available on GitHub. It’s pretty rough and needs refactoring, particularly the Processing code as it was my first attempt at Processing.</p>
  </div>
</article>
<div id='other-articles'>
  <div class='older'>
    <h2>
      Older Articles
    </h2>
    <ul>
      <li>
        <h3>
          <a href='/blog/2009/01/12/barcamp-liverpool.html' title='My round-up of the first two-day BarCamp in Liverpool, United Kingdom.'>
            &laquo; Barcamp Liverpool
          </a>
        </h3>
      </li>
      <li>
        <h3>
          <a href='/blog/2008/05/28/erlang-talk.html' title='A summary of a talk I gave on Erlang at Liverpool GeekUp.'>
            &laquo; Erlang Talk - Why Functional Programming?
          </a>
        </h3>
      </li>
      <li>
        <h3>
          <a href='/blog/2008/04/28/comet-talk.html' title='Links on the subject of Comet, and the talk I gave at Liverpool GeekUp on it.'>
            &laquo; Comet Talk
          </a>
        </h3>
      </li>
    </ul>
  </div>
  <div class='newer'>
    <h2>
      Newer Articles
    </h2>
    <ul>
      <li>
        <h3>
          <a href='/blog/2009/08/10/my-5-favourite-things-about-git.html' title="The 5 things I like most about Git, Linus Torvalds' distributed version system.">
            My 5 Favourite Things About Git &raquo;
          </a>
        </h3>
      </li>
      <li>
        <h3>
          <a href='/blog/2009/10/19/blogging-with-webby.html' title='My experiences of blogging with the Webby static site generator, and not looking back.'>
            Blogging with Webby &raquo;
          </a>
        </h3>
      </li>
      <li>
        <h3>
          <a href='/blog/2009/10/25/compass-to-the-rescue.html' title='How the Compass CSS &amp;ldquo;Meta-Framework&amp;rdquo; has taken the pain out of my stylesheets. Something for which I am eternally grateful.'>
            Compass to the Rescue &raquo;
          </a>
        </h3>
      </li>
    </ul>
  </div>
</div>
<div class='comments'>
  <div id='disqus_thread'></div>
  <script src='http://disqus.com/forums/martinowen/embed.js' type='text/javascript'></script>
  <noscript>
    <a href='http://disqus.com/forums/martinowen/?url=ref'>
      View the discussion thread
    </a>
  </noscript>
</div>
<!-- / disqus adds too much visual crap -->
<style type='text/css'>
  <style>
    .dsq-dc-logo {
      display: none !important; }
  </style>
</style>
<script>
  (function() {
    var links = document.getElementsByTagName('a');
    var query = '?';
    for(var i = 0; i < links.length; i++) {
      if(links[i].href.indexOf('#disqus_thread') >= 0) {
        query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
      }
    }
    document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/martinowen/get_num_replies.js' + query + '"></' + 'script>');
  })();
</script>

      
    </section>
    <footer>
      <nav class='tags'>
  <ul>
    <li>
      <a class='tag' href='/tags/arduino/'>arduino&nbsp;(1)</a>
    </li>
    <li>
      <a class='tag' href='/tags/emacs/'>emacs&nbsp;(1)</a>
    </li>
    <li>
      <a class='tag' href='/tags/erlang/'>erlang&nbsp;(1)</a>
    </li>
    <li>
      <a class='tag' href='/tags/event/'>event&nbsp;(2)</a>
    </li>
    <li>
      <a class='tag' href='/tags/funcunit/'>funcunit&nbsp;(1)</a>
    </li>
    <li>
      <a class='tag' href='/tags/git/'>git&nbsp;(1)</a>
    </li>
    <li>
      <a class='tag' href='/tags/javascript/'>javascript&nbsp;(2)</a>
    </li>
    <li>
      <a class='tag' href='/tags/liverpool/'>liverpool&nbsp;(4)</a>
    </li>
    <li>
      <a class='tag' href='/tags/slides/'>slides&nbsp;(2)</a>
    </li>
    <li>
      <a class='tag' href='/tags/testing/'>testing&nbsp;(1)</a>
    </li>
    <li>
      <a class='tag' href='/tags/tools/'>tools&nbsp;(1)</a>
    </li>
  </ul>
</nav>
<small>
  <p>&copy; 2013 Martin Owen | Tools: <a href="http://nanoc.stoneship.org/">nanoc</a>, <a href="http://haml-lang.com/"><span class="caps">HAML</span>/<span class="caps">SASS</span></a> ,<a href="http://compass-style.org/">Compass</a>, <a href="http://html5boilerplate.com/">HTML5BP</a>, <a href="http://coffeescript.org/">CoffeeScript</a></p>
</small>

    </footer>
    </div>
  </div>

  <!-- JavaScript at the bottom for fast page loading -->

      <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
      <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.8.0.min.js"><\/script>')</script>
      <script src="/js/plugins.js"></script>
      <script src="/js/main.js"></script>

      <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
      <script>
          var _gaq=[['_setAccount','UA-3614897-1'],['_trackPageview']];
          (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
          g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
          s.parentNode.insertBefore(g,s)}(document,'script'));
      </script>
  </body>
