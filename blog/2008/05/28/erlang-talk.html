




  <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Erlang Talk - Why Functional Programming?</title>
      <meta name="keywords" content=", erlang, liverpool, slides">
      <meta name="description" content="A summary of a talk I gave on Erlang at Liverpool GeekUp.">
      <meta name="viewport" content="width=device-width">

      <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

      <link rel="stylesheet" href="/assets/css/normalize.css">
      <link rel="stylesheet" href="/assets/css/main.css">
      <link rel="stylesheet" href="/assets/css/animate.css">
      <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Inconsolata">
      <script src="/js/vendor/modernizr-2.6.1.min.js"></script>
      <script type="text/javascript" src="//use.typekit.net/gdm4xcy.js"></script>
      <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
  </head>
  <body>
      <!--[if lt IE 7]>
          <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
      <![endif]-->

      
  
   <div id="container">
    <section id="sidebar">
      <header>
  <a href='/'>
    <img id='avatar' src='/assets/images/avatar_med.png' title='Martin Owen'>
  </a>
</header>
<nav class='main'>
  <ul>
    <li><a href='/about.html'>about</a></li>
    <li><a href='/archives.html'>archives</a></li>
    <li>
      <a href='/atom.xml'>
        subscribe
      </a>
    </li>
  </ul>
</nav>
<nav class='elsewhere'>
  <ul class='social-network-links'>
    <li>
      <a class='github' href='http://github.com/mowen'>
        github
      </a>
    </li>
    <li>
      <a class='lastfm' href='http://last.fm/user/martyziff'>
        last.fm
      </a>
    </li>
    <li>
      <a class='twitter' href='http://twitter.com/martinowen'>
        twitter
      </a>
    </li>
    <li>
      <a class='facebook' href='http://facebook.com/martowen'>
        facebook
      </a>
    </li>
    <li>
      <a class='delicious' href='http://delicious.com/mintyboy'>
        delicious
      </a>
    </li>
    <li>
      <a class='linkedin' href='http://uk.linkedin.com/in/martinowenuk'>
        linkedin
      </a>
    </li>
  </ul>
</nav>

    </section>
    <section id="main" role="main">
      
        <article>
  <header>
    <h1>Erlang Talk - Why Functional Programming?</h1>
    <h2>
      A summary of a talk I gave on Erlang at Liverpool GeekUp.
    </h2>
    <div class='meta'>
      <ul class='tags'>
        <li>May 28, 2008</li>
        <li>
          &middot;
        </li>
        <li>
          <a href='/blog/2008/05/28/erlang-talk.html#disqus_thread'></a>
        </li>
        <li>&middot;</li>
        <li>
          <a class='tag' href='/tags/erlang/'>erlang</a>
        </li>
        <li>
          <a class='tag' href='/tags/liverpool/'>liverpool</a>
        </li>
        <li>
          <a class='tag' href='/tags/slides/'>slides</a>
        </li>
      </ul>
    </div>
  </header>
  <div class='body'>
    <p><a href="/assets/files/erlangtalk.pdf">Erlang Talk May 2008</a></p>
    <p>I gave another talk at Liverpool <a href="http://geekup.org">GeekUp</a>, a shorter one this time on Erlang, Ericsson’s programming language and application platform which is being applied in back-end web projects at places such as Amazon and Facebook (Simple<span class="caps">DB</span> and Facebook Chat respectively). It was a follow on from both <a href="http://blog.cwa.me.uk/2008/05/18/f-presentation-slides-and-demos/">Chris Alcock’s F# talk</a> at the <a href="http://liverpool.usersof.net/">Liverpool .<span class="caps"><span class="caps">NET</span></span> User Group</a> and my own Comet talk the month before (as Erlang is used as the back-end of Facebook’s new chat Comet implementation.)</p>
    <p>I didn’t want to just post the slides as the talk was intentionally short and there are a number of great links (some that I’ve only discovered since the talk) that I have to point people towards. I also wanted to make a few points about what Erlang is and what it isn’t. For one thing, it is certainly…</p>
    <h3>…Not Just Another Programming Language</h3>
    <p>I’ve got the feeling from people who have heard about Erlang but not looked into it that they’re expecting it to be the new Java/C#/<span class="caps"><span class="caps">PHP</span></span>/Ruby (insert language of choice) and they’ll just use it for the same standard everyday tasks that they use language X for. Unless you spend your days writing servers (of whatever description) then that is unlikely to be the case. Yariv Sadan is working hard to persuade people that Erlang is <a href="http://yarivsblog.com/articles/2008/05/28/announcing-twoorl-an-open-source-erlyweb-based-twitter-clone/">a great platform for writing web apps</a>, but I’m not convinced, at least not for the front-end.</p>
    <p>A few years ago <a href="http://steve.yegge.googlepages.com/language-trickery-and-ejb">Steve Yegge blogged at Amazon</a> (skip down to <em>Syntax for distributed computing</em>) about a language called Erlang that had special syntax designed specifically for its problem domain:</p>
    <blockquote>
    <p>So Ericsson engineers decided to solve our problem, the one we’re talking about hurling <span class="caps">J2EE</span> books at in the hopes of stunning it, with a new programming language made just for distributed computing. They cleverly called it “Ericsson Language”, or Erlang for short.</p>
    <p>They created syntax for the network calls, for running distributed processes, for doing peer reelections, restarting processes, for doing asynchronous event-based messaging, for doing exponential backoff and retry, all kinds o’ stuff.</p>
    <p>Rumor has it that they’ve built themselves one of the largest real-time, transactional distributed systems in the world, using only about a million lines of Erlang code, which they estimate would be about 20 million lines of buggy C/C++ code.</p>
    <p>Go figure.</p>
    </blockquote>
    <p>Steve has made the point (read the entire post for a more in-depth view) that <strong>language matters</strong> and some problems are so hard to solve that they need a language that is designed specifically for solving them. The problem in this case is writing software that can run on a number of different CPUs (distributed or otherwise) in such a way that those CPUs block each other as little as possible. As the amount of speed that can be wrung out of a single <span class="caps"><span class="caps">CPU</span></span> has peaked, Erlang’s approach to software has attracted attention.</p>
    <p>So why is Erlang so well equipped for parallelism? Simple…</p>
    <h3>Single Assignment Semantics</h3>
    <p>I grumbled at Chris’ talk that F# seemed <em>too imperative</em> and that I thought Erlang justified its use of functional language features better. My main gripe was the lack of single-assignment semantics. To me <span class="caps"><span class="caps">SAS</span></span> is Erlang’s killer feature, and the reason people are seeing it as a solution to programming for multi-core processors. If shared variables can’t be reassigned, then you avoid all of the headaches associated with traditional thread-based concurrency. It also does away with locks completely, meaning that processes are much less likely to wait on each other, and linear speed-ups on multi-core machines become much more likely.</p>
    <p>Erlang is very strict on immutability – once a variable has been assigned then it can’t be reassigned. Seriously. Kiss goodbye to reassignment while you’re working with Erlang, <em>even with local variables</em>. If you really want to do it you just have to create a new variable:</p>
    
    <notextile><code class="language-erlang"><div class="highlight"><table><tr>&#x000A;<td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>&#x000A;<span class="line-number">2</span>&#x000A;</pre></td>&#x000A;<td class="code"><pre><code class="erlang"><span class="line"><span class="nv">Num</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>&#x000A;</span><span class="line"><span class="nv">Num2</span> <span class="o">=</span> <span class="nv">Num</span> <span class="o">+</span> <span class="mi">1</span>&#x000A;</span></code></pre></td>
    </tr></table></div></code></notextile><p>(<em>Note that if you need to do this you’re <a href="http://weblog.hypotheticalabs.com/?p=281">probably doing it wrong</a>.</em>)</p>
    <p>It may seem <em>too</em> strict to restrict the reassignment of local variables. I found an excellent post by Luke Hoersten <a href="http://humani.st/why-make-erlang-a-functional-language/">Why Make Erlang a Functional Language?</a> in which he argues that extending <span class="caps"><span class="caps">SAS</span></span> to local variables adds efficiencies to the language which compensate for the overheads of message passing. Whether you agree with that argument or not, you’ll find that while working with Erlang you’ll rarely need to reassign a variable, precisely because of Erlang’s functional language features. Here’s a quick <code>length()</code> example:</p>
    
    <notextile><code class="language-erlang"><div class="highlight"><table><tr>&#x000A;<td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>&#x000A;<span class="line-number">2</span>&#x000A;<span class="line-number">3</span>&#x000A;<span class="line-number">4</span>&#x000A;</pre></td>&#x000A;<td class="code"><pre><code class="erlang"><span class="line"><span class="nb">length</span><span class="p">(</span><span class="nv">List</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">length</span><span class="p">(</span><span class="nv">List</span><span class="p">,</span> <span class="mi">0</span><span class="p">).</span>&#x000A;</span><span class="line"><span class="nb">length</span><span class="p">([],</span> <span class="nv">Count</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nv">Count</span><span class="p">;</span>&#x000A;</span><span class="line"><span class="nb">length</span><span class="p">([</span><span class="nv">Head</span><span class="p">|</span><span class="nv">Tail</span><span class="p">],</span> <span class="nv">Count</span><span class="p">)</span> <span class="o">-&gt;</span>&#x000A;</span><span class="line">  <span class="nb">length</span><span class="p">(</span><span class="nv">Tail</span><span class="p">,</span> <span class="nv">Count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">).</span>&#x000A;</span></code></pre></td>
    </tr></table></div></code></notextile><p>The function uses recursion to iterate over the list and increment a counter without reassigning any local variables. Therefore Erlang justifies its use of functional programming features. Hence my talk.</p>
    <h3>Further Reading</h3>
    <p>Here are some Erlang links that I think are worth checking out:</p>
    <ul>
    <li>
    <a href="http://www.planeterlang.org">Planet Erlang</a> is a Digg-style site for Erlang content, it’s down at the time of writing, I assume it’ll be back up soon.</li>
    	<li>
    <a href="http://yarivsblog.com/">Yariv Sadan’s blog</a> is an excellent Erlang resource.</li>
    	<li>Kevin Smith, author of a number of <a href="http://pragprog.com/screencasts/v-kserl/erlang-in-practice">Erlang screencasts for the Pragmatic Programmers</a>, has a good <a href="http://weblog.hypotheticalabs.com/">Erlang blog</a>
    </li>
    	<li>Gordon Guthrie, <span class="caps"><span class="caps">CEO</span></span>/<span class="caps"><span class="caps">CTO</span></span> of startup <a href="http://hypernumbers.com">Hypernumbers</a> wrote a good overview of Erlang for Scenius called <a href="http://oreillygmt.typepad.com/scenius/2008/02/erlang-the-ceos.html">Erlang the CEOs Point of View</a>
    </li>
    	<li>Couch<span class="caps">DB</span> developer Damien Katz wrote a good post entitled <a href="http://damienkatz.net/2008/03/what_sucks_abou.html">What Sucks About Erlang</a>
    </li>
    	<li>The aforementioned Luke Hoersten has written a tutorial about developing <a href="http://humani.st/scalable-web-apps-erlang-python/">Scalable Web Apps with Erlang <span class="amp">&amp;</span> Python</a>. Like I said, Erlang is really a back-end language – there are better choices for front-end code, but there is no reason why they can’t work together.</li>
    </ul><p>There’s also <a href="http://www.youtube.com/watch?v=uKfKtXYLG78">an unintentionally funny promotional film</a> that Ericsson made about Erlang. I deliberately avoided embedding it here, because you would probably have just skipped to it and got quite a bad impression of the language!</p>
  </div>
</article>
<div id='other-articles'>
  <div class='older'>
    <h2>
      Older Articles
    </h2>
    <ul>
      <li>
        <h3>
          <a href='/blog/2008/04/28/comet-talk.html' title='Links on the subject of Comet, and the talk I gave at Liverpool GeekUp on it.'>
            &laquo; Comet Talk
          </a>
        </h3>
      </li>
    </ul>
  </div>
  <div class='newer'>
    <h2>
      Newer Articles
    </h2>
    <ul>
      <li>
        <h3>
          <a href='/blog/2009/01/12/barcamp-liverpool.html' title='My round-up of the first two-day BarCamp in Liverpool, United Kingdom.'>
            Barcamp Liverpool &raquo;
          </a>
        </h3>
      </li>
      <li>
        <h3>
          <a href='/blog/2009/06/01/twitter-racing-at-howduino-liverpool.html' title='My account of the Howduino Arduino hacking event in Liverpool in May 2009.'>
            Twitter Racing at Howduino Liverpool &raquo;
          </a>
        </h3>
      </li>
      <li>
        <h3>
          <a href='/blog/2009/08/10/my-5-favourite-things-about-git.html' title="The 5 things I like most about Git, Linus Torvalds' distributed version system.">
            My 5 Favourite Things About Git &raquo;
          </a>
        </h3>
      </li>
    </ul>
  </div>
</div>
<div class='comments'>
  <div id='disqus_thread'></div>
  <script src='http://disqus.com/forums/martinowen/embed.js' type='text/javascript'></script>
  <noscript>
    <a href='http://disqus.com/forums/martinowen/?url=ref'>
      View the discussion thread
    </a>
  </noscript>
</div>
<!-- / disqus adds too much visual crap -->
<style type='text/css'>
  <style>
    .dsq-dc-logo {
      display: none !important; }
  </style>
</style>
<script>
  (function() {
    var links = document.getElementsByTagName('a');
    var query = '?';
    for(var i = 0; i < links.length; i++) {
      if(links[i].href.indexOf('#disqus_thread') >= 0) {
        query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
      }
    }
    document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/martinowen/get_num_replies.js' + query + '"></' + 'script>');
  })();
</script>

      
    </section>
    <footer>
      <nav class='tags'>
  <ul>
    <li>
      <a class='tag' href='/tags/arduino/'>arduino&nbsp;(1)</a>
    </li>
    <li>
      <a class='tag' href='/tags/emacs/'>emacs&nbsp;(1)</a>
    </li>
    <li>
      <a class='tag' href='/tags/erlang/'>erlang&nbsp;(1)</a>
    </li>
    <li>
      <a class='tag' href='/tags/event/'>event&nbsp;(2)</a>
    </li>
    <li>
      <a class='tag' href='/tags/funcunit/'>funcunit&nbsp;(1)</a>
    </li>
    <li>
      <a class='tag' href='/tags/git/'>git&nbsp;(1)</a>
    </li>
    <li>
      <a class='tag' href='/tags/javascript/'>javascript&nbsp;(2)</a>
    </li>
    <li>
      <a class='tag' href='/tags/liverpool/'>liverpool&nbsp;(4)</a>
    </li>
    <li>
      <a class='tag' href='/tags/slides/'>slides&nbsp;(2)</a>
    </li>
    <li>
      <a class='tag' href='/tags/testing/'>testing&nbsp;(1)</a>
    </li>
    <li>
      <a class='tag' href='/tags/tools/'>tools&nbsp;(1)</a>
    </li>
  </ul>
</nav>
<small>
  <p>&copy; 2013 Martin Owen | Tools: <a href="http://nanoc.stoneship.org/">nanoc</a>, <a href="http://haml-lang.com/"><span class="caps">HAML</span>/<span class="caps">SASS</span></a> ,<a href="http://compass-style.org/">Compass</a>, <a href="http://html5boilerplate.com/">HTML5BP</a>, <a href="http://coffeescript.org/">CoffeeScript</a></p>
</small>

    </footer>
    </div>
  </div>

  <!-- JavaScript at the bottom for fast page loading -->

      <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
      <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.8.0.min.js"><\/script>')</script>
      <script src="/js/plugins.js"></script>
      <script src="/js/main.js"></script>

      <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
      <script>
          var _gaq=[['_setAccount','UA-3614897-1'],['_trackPageview']];
          (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
          g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
          s.parentNode.insertBefore(g,s)}(document,'script'));
      </script>
  </body>
